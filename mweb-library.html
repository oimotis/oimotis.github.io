
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="atom.xml" rel="alternate" title="MWeb" type="application/atom+xml">
    <title> 
	  
  	MWeb Document Library Details - MWeb
  	
  	</title>
     <link rel="icon" sizes="192x192" href="asset/icon_192.png" />
    <link rel="shortcut icon" href="asset/icon_64.png" type="image/png" />

    <link href="asset/css/bootstrap.min.css" rel="stylesheet">
    <link href="asset/css/style.css" rel="stylesheet">
    <script src="asset/js/jquery.min.js"></script>
    <script src="asset/js/bootstrap.min.js"></script>
    <script src="asset/js/docs.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
	<link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
	<script>hljs.initHighlightingOnLoad();</script>
    <!--[if lt IE 9]>
      <script src="asset/js/html5shiv.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav">
           
        <a class="menu-index blog-nav-item" target="_self" href="index.html">Home</a>
        
        <a class="menu-help blog-nav-item" target="_self" href="help.html">Documentation</a>
        
        <a class="menu-themes blog-nav-item" target="_self" href="themes.html">Themes</a>
        
        <a class="menu-blog blog-nav-item" target="_self" href="blog.html">Blog</a>
        
        <a class="menu-about blog-nav-item" target="_self" href="about.html">About</a>
        
        <a class="menu-lang blog-nav-item" target="_self" href="https://zh.mweb.im/">中文</a>
        
        
        </nav>
      </div>
    </div>
      
      <div style="color:#ff0000; text-align:center; padding:8px;" class="bg-info site_notice">
        <a style="color:#ff0000;" href="version-3.2.8-to-3.3.1-release-note.html">MWeb version 3.2.8 and bellow update to version 3.3.1 notice</a>
      </div>
    
    
 <div class="container" id="content-wrap">
 

	<div class="row">
		<div class="col-sm-10 blog-main">
			<h1 style="padding-left: 20px;">
				<a href="help.html">Documentation</a> - MWeb Document Library Details</h1>
		</div>
	</div>
	<hr style="margin-bottom: 20px;" />


      <div class="row">

        <div class="col-sm-10 blog-main">
			<div class="blog-content-wrap">
				<div class="blog-post">
		            <div class="content-responsive">
		            <p>This article introduces the detailed use of the document library. If you have not seen <a href="15305970515404.html">MWeb Basic use</a>, I suggest you check it out first.</p>

<h2 id="toc_0">Document library structure and storage location</h2>

<p>MWeb&#39;s document library is stored in a folder that you set up when you started using MWeb. It consists of a <code>docs</code> folder, a <code>maillib.db</code> file, and a <code>metadata</code> folder. The <code>docs</code> folder holds the relevant material for each note and note. The <code>mainlib.db</code> file holds the categories and tag information as well as the categories information to which the notes belong. The <code>metadata</code> folder is only available when the publishing service is used, and the information about the publishing service is saved. The figure below is a typical document library.<br/>
<figure><img src="media/15303755379614/15303762803232.jpg" alt="" style="width:624px;"/></figure></p>

<p>This structure can be well backed up and used for git, while avoiding accidental deletions, as it is impossible to delete so many documents for no reason.</p>

<h2 id="toc_1">Guarantee document library data security</h2>

<p>The following figure shows the setting and backup of the document library in MWeb. The well-designed backup strategy helps ensure that the document library will never be lost. MWeb&#39;s document library is a folder. You can use the <code>Show in Finder</code> button to find the location of the document library and copy it directly to another place for backup. You can also use the backup library feature for scheduled backups.</p>

<p><figure><img src="media/15306209330609/15306211680783.jpg" alt="" style="width:686px;"/></figure></p>

<p>There are three about setting up a backup location. I think there may be some users who will need it, but I think there are usually no problems in two places. It is also possible to set one location in a historically recorded cloud drive like Dropbox, another location on another hard disk, or not. However, it is recommended to set a location in a cloud drive like Dropbox with a history function, or in a device like a time machine, because the document library is always synchronized with the backup location.</p>

<p>If you want to restore a backed up document library, please copy the backup folder to what the library location you want to, then use the <code>Choose a Exist Library...</code> menu choose that location, like below:</p>

<p><figure><img src="media/15306209330609/15306212929227.jpg" alt="" style="width:644px;"/></figure></p>

<h2 id="toc_2">How to use the categories tree</h2>

<p>There are two types of MWeb categories, one is the common categories, as shown below:</p>

<p><figure><img src="media/15306209330609/15306213639577.jpg" alt="" style="width:477px;"/></figure></p>

<p>One is static website categories, this categories can generate static websites, as shown below:</p>

<p><figure><img src="media/15306209330609/15306214269910.jpg" alt="" style="width:736px;"/></figure></p>

<p>MWeb provides a very simple way to generate a static website from the classified documents. For example, MWeb Chinese official website is generated by MWeb&#39;s static website function.</p>

<p>The categories tree on the left side of the interface can be associated with the right-click and drag-and-drop to complete related management operations. The middle document list bar can drag and drop documents to the left category for document categories management. There are three cases of this drag and drop, and the following assumes that the drag is <strong>Category A</strong>:</p>

<ol>
<li>Drag the current document directly to <strong>Category A</strong>. In this case, if the document in the list belongs to the currently selected category, it will move to the <strong>Class A</strong>, otherwise it will be added to the <strong>Category A</strong> for the dragged document.</li>
<li>Hold down the <code>CMD</code> key to drag the current document to the <strong>Category A</strong>. In this case, the added value of the dragged document is increased to <strong>Class A</strong>.</li>
<li>Hold down the <code>Option</code> button and drag the current document to the <strong>Category A</strong>. In this case, if the dragged document belongs to the <strong>Category A</strong>, the canceled document belongs to the <strong>Class A</strong>, If it does not belong to the <strong>Class A</strong>, no action is taken.</li>
</ol>

<p>This method of operation is more than one choice, that is, it can be managed in batches. If it is a single document, there is a better way to click on the top information bar of the editor and then check it, as shown below:</p>

<p><figure><img src="media/15306209330609/15306215401440.jpg" alt="" style="width:589px;"/></figure></p>

<p>This place is also the only place where you can set the document tag. You can also use the shortcut <code>CMD + 8</code> to open this interface.</p>

<h2 id="toc_3">Reference between documents</h2>

<p>It is very simple to reference other documents in MWeb. In the document list, right-click the document you want to reference and select ``.</p>

<p><figure><img src="media/15306209330609/15306217306407.jpg" alt="" style="width:326px;"/></figure></p>

<p>Then paste the location of the document to be referenced <code>CMD + V</code>, and MWeb will generate <code>[How to use Publish Script to Publish website.](how_to_use_shell_script.html)</code>. If you hold down the <code>CMD</code> key and click, the referenced document will be opened.</p>

<h2 id="toc_4">Document Sorting</h2>

<p>The document library supports multiple sorting methods, and each top-level category can also set its own sorting method. There are two ways to modify the sorting method, one is as shown below:</p>

<p><figure><img src="media/15306209330609/15306217971719.jpg" alt="" style="width:475px;"/></figure></p>

<p>The other is to select the top-level category to be modified or a sub-category under the top-level category, and then right-click in the document list, as shown below:</p>

<p><figure><img src="media/15306209330609/15306218457167.jpg" alt="" style="width:548px;"/></figure></p>

<p>In various sorts, custom drag sorting is special and requires special instructions. Before I explain, let me explain a global option: <code>Group By Categories</code> Right-click in the document list to see the menu for this function. If it is enabled, it means that the documents in the list are in the state of grouping by category, no matter what sorting settings.<br/>
This use is actually to find and organize documents. However, if this global option is not enabled, then if the sort is set to a custom drag sort, the top level will also be grouped by category. In other words, as long as it is a custom drag sort, the document list bar must be displayed in groups.<br/>
This is due to the fact that a document can belong to multiple categories and the rules are set, otherwise it will be messy.<br/>
If you try to drag and drop in a category that is not a custom sort, MWeb will prompt you to set it to a custom drag sort before you can drag and drop. Customize the documents under the drag sort category, it is recommended to ensure that only one category is classified, so drag and drop sorting will not be messy.</p>

<h2 id="toc_5">How to use tags</h2>

<p>The function of the tag in MWeb is very simple. The method of setting the tag is as mentioned above. In addition, the document is viewed by Tag. The function can be tag by the <code>Tag</code> button in the lower right corner of the category, as shown below:</p>

<p><figure><img src="media/15306209330609/15306220682053.jpg" alt="" style="width:279px;"/></figure></p>

<p>It can be seen that MWeb will list the tags of the entire document library and the tags under the currently selected category. After selecting, you can view the documents by tag.</p>

<h2 id="toc_6">Document Outline View</h2>

<p>As shown in the following figure, the document outline view will list the title and inserted images and attachments of the current document, and of course the extension items that can be used for static websites (if the current document belongs to a static website category). The figure below shows the effect of fixing the outline view.</p>

<p><figure><img src="media/15306209330609/15306221680761.jpg" alt="" style="width:298px;"/></figure></p>

<h2 id="toc_7">Import and export of document libraries</h2>

<p>As shown in the following figure, the document library supports importing Markdown documents into the document library. If you select a folder when importing, MWeb will import all the Markdown documents in the folder into the currently selected category. If there is a local image in the Markdown document of the folder, it will also be imported and modified to the image address in the document library format. This is only available in version 3.x. Version 2.x will only import Markdown text and will not import images. It should be noted that to import images, be sure to select the entire folder.<br/>
<figure><img src="media/15306209330609/15306222408003.jpg" alt="" style="width:546px;"/></figure></p>

<p>In addition, you can export the entire categories to Markdown, and the exported Markdown document will create a folder according to the structure of the categories. Creating folders by category structure is also a feature that is only available in 3.x.</p>

<p>The remaining two are exported to Epub and PDF. Yes, you can export the entire category to Epub or PDF!</p>

<h2 id="toc_8">Full keyboard navigation</h2>

<p>At any time, you can use the shortcut <code>CMD + Shift + F</code> to switch the focus to the search box (External Mode switches to the directory tree). Just remember this one, basically you can switch between the three places: <code>Categories Tree - List - Editor</code>.<br/>
This is because you can switch to the editor by pressing <code>Tab</code> in the search box and pressing <code>Down Arrow</code> to switch to the list. When the focus is on the list, press <code>Left Arrow</code> to switch to the categories tree, `<code>Right Arrow</code> to switch to the editor; when the focus is on the categories tree, you can press <code>Right Arrow</code> to switch to the list. In addition, you can use the <code>Ctrl + Tab</code> key, the <code>CMD + Shift + [ or ]</code> key to switch Tabs, and the focus will be cut to the editor when you switch Tab.<br/>
In addition, the quick search is <code>CMD + O</code>. When there is no search box in the External Mode, you can use this to search.</p>

<p><a id="end"></a></p>

<h2 id="toc_9">Document Library related issues</h2>

<p>The document library is generally work fine. The discussion here is if there is an unexpected solution.<br/>
As mentioned in the document library structure above, MWeb&#39;s document library is a folder consisting of the docs folder and the mainlib.db file in the folder. The docs folder contains all the notes, one note in one document, the file name like: <code>number + .md</code>. If there is a problem with the document library, it is usually the following:</p>

<h3 id="toc_10">1. The document library location is incorrect.</h3>

<p>In MWeb 3.1.4 and above, the document library location is incorrect, it will automatically open <code>Preferences</code> - <code>Library &amp; Backup</code> and there will be a red text prompt in <code>Library Location</code>, like below:<br/>
<figure><img src="media/15306209330609/WX20180712123640.png" alt=""/></figure><br/>
In this case, you can use the following methods to solve this problem:</p>

<ol>
<li>If the Library location is not you choose location, just use <code>Change the Library Location</code> - <code>Choose a Exist Library...</code> choose correct document library location. MWeb&#39;s Library folder contain a <code>docs</code> folder and a <code>mainlib.db</code> file.</li>
<li>If your document library is saved on iCloud Drive, please confirm that your current iCloud account is OK.</li>
<li>If you don&#39;t know, you can search the <code>mainlib.db</code> file in the mac to find the location of the document library. Then use <code>Choose a Exist Library...</code> to select that location to restore.</li>
<li>If you have backed up the document library to a historically recorded cloud drive in accordance with the above <strong>guaranteed document library data security</strong> section, you can restore the document library from the history and then copy it to the MWeb document library you want to set up. Then use the <code>Choose a Exist Library...</code> button to restore.</li>
</ol>

<h3 id="toc_11">2. mainlib.db has problems or is corrupted when syncing</h3>

<p>mainlib.db This file holds information about all categories and tags, as well as the documents that belong to the categories and tags. If you encounter a categories structure, this is the problem. Since the mainlib.db file is important, MWeb automatically backs up a mainlib.db file every day. The backup location is <code>~/Library/Containers/com.coderforart.MWeb3/Data/Library/Caches</code>, you can close MWeb first, then select a backup mainlib.db file and copy it to its original location and start MWeb.</p>

<h3 id="toc_12">3. I want to initialize the MWeb document library</h3>

<p>If you want to initialize MWeb&#39;s document library:</p>

<ol>
<li>Download <a href="https://cdn.mwebapp.cn/MWebInitLibrary.zip">https://cdn.mwebapp.cn/MWebInitLibrary.zip</a> and unzip it, then use <code>Choose a Exist Library...</code> to select that location.</li>
<li>Run the command in the terminal: <code>defaults delete com.coderforart.MWeb3</code> and restart MWeb. this will delete all MWeb preferences.</li>
</ol>

		            </div>
				</div><!-- /.blog-post -->
			</div>
			<div class="share-comment">
			<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55117df11d1413c3" async="async"></script>
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_native_toolbox"></div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'mweb-en';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

			</div>

        </div><!-- /.blog-main -->
	</div>
</div>   <footer class="blog-footer">
      <p>Copyright &copy; 2019
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; host on <a target="_blank" href="https://github.com/">Github Pages</a>
.</p>
      <p>
        <a href="#">Back to top</a>
      </p>
    </footer>


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="asset/js/ie10-viewport-bug-workaround.js"></script>
    

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58735702-3', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>